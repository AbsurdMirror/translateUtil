# 文本翻译工具

## 特性

### 基础功能

- 划词翻译
- 单词翻译
- 多段文本翻译

### 特色功能

- 原文自动整理：可自动清除原文中的换行，并且将原文按句子拆分后，提供每一句的翻译
- 原文译文对照：翻译内容显示时，按照句子显示，可对照每一句的原文和译文
- 翻译内容保存：可以将每一次的翻译内容保存到本地文件中

### 应用场景

开发本工具主要针对英文PDF文档阅读的场景。解决了阅读英文PDF文档时的以下问题：

- 复制文档内容到翻译工具时存在换行无法完美翻译（原文自动整理功能）
- 原文和译文左右显示，对照阅读时存在阅读困难（原文译文对照功能）
- 跨页翻译时直接全部复制会把页头、页尾等无用信息复制到原文中（多段文本翻译功能）

提供了以下便利：

- 多次阅读同一篇文档时，只要在第一次阅读时使用本工具翻译，后续可直接阅读保存在本地的翻译内容（翻译内容保存功能）

## 运行

### 配置翻译API

本工具默认使用彩云翻译API。请在[彩云科技开放平台](https://platform.caiyunapp.com/regist)上申请翻译API，在仓库根目录下新建 `CaiYunXiaoYi.token` 文件，将API写入文件中。

参考链接：[五分钟学会彩云小译 API](https://docs.caiyunapp.com/blog/2018/09/03/lingocloud-api/)
[彩云小译和彩云翻译API的关系](https://docs.caiyunapp.com/lingocloud/LingoCloud%20WEB/trans%20api)

### 启动脚本

```shell
python trans.py
```

Note: 初始使用时，脚本会联网下载nltk的词库，请耐心等待。

## 使用

### 划词翻译

选中一段文字，连按两次 `Ctrl + C` 会弹出翻译窗口，显示翻译内容。

### 多段文本翻译

连按两次 `Ctrl + X` 可以打开一个文本窗口，多次将文本粘贴到文本框中，然后点击窗口右下角 `翻译文本` 可以翻译文本窗口内的文本内容。

### 单词翻译

在翻译窗口选中一个单词后单击右键，在翻译窗口右侧会显示单词的翻译。

## 配置

配置文件为仓库根目录下的 `setting.json`。每个配置项的含义如下表所示。

| 配置项 | 含义 |
| --- | --- |
| `save` | 保存翻译内容的相关配置 |
| `save.isSave` | 是否保存翻译内容 |
| `save.savePath` | 翻译内容的保存路径（文件夹/目录路径） |
| `save.saveName` | 翻译内容的保存文件名 |
| `save.saveSource` | 是否保存原文 |
| `show` | 翻译窗口相关配置 |
| `show.showSource` | 是否显示原文 |
